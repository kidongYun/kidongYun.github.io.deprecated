---
layout: post
title:  "Operating System - System Call"
date:   2019-10-01 02:24:54 +0900
categories: operating_system
---

### System Call이란
> System Call은 운영체제에 의해 사용 가능하게 된 서비스에 대한 인터페이스를 제공한다. <br><br> 특정 저수준 작업은 어셈블리 명령을 사용하여 작성되어야 하지만 시스템 호출은 일반적으로 C와 C++ 언어로 작성된 루틴 형태로 제공된다.


### API와 System Call의 관계
> 대부분의 응용 개발자들은 API에 따라 프로그램을 설계한다. <br><br> API는 각 함수에 전달되어야 할 매개변수들과 프로그래머가 기대할 수 있는 반환 값을 포함하여 응용 프로그래머가 사용 가능한 함수의 집합을 명시한다. <br><br> API를 구성하는 함수들은 통상 응용 프로그래머를 대신하여 실제 System Call을 호출한다. <br><br> 예를 들어 Win32 함수 CreateProcess()는 실제로 Windows 커널의 NTCreateProcess() System Call을 부른다.

### System Call 매개변수 전달 과정
> 운영체제에 매개변수를 전달하기 위해서 일반적인 방법을 사용한다.

```

    1. 매개변수를 레지스터 내에 전달하는 방법
    2. 매개변수는 메모리 내의 블록이나 테이블에 저장하고 블록의 주소값을 레지스터 내에 매개변수로 전달

```

> 운영체제는 2번 방법이 매개변수의 개수나 길이에 대한 제한이 없기 때문에 더 선호한다.

### System Call 유형
```

    1. 프로세스 제어
        끝내기(END), 중지(ABORT)
        적재(LOAD), 실행(EXECUTE)
        프로세스 생성, 프로세스 종료
        프로세스 속성 획득, 프로세스 속성 설정
        시간을 기다림
        사건을 기다림, 사걸을 알림
        메모리 할당 및 자유화
    
    2. 파일 조작
        파일 생성(CREATE FILE), 파일 삭제(DELETE FILE)
        열기(OPEN), 닫기(CLOSE)
        읽기, 쓰기, 위치변경
        파일 속성 획득 및 설정

    3. 장치 관리
        장치를 요청, 장치를 방출
        읽기, 쓰기, 위치변경
        장치 속성 획득, 장치 속성 설정
        장치의 논리적 부착 또는 분리

    4. 정보 유지
        시간과 날짜의 설정과 획득
        시스템 자료의 설정과 획득
        프로세스, 파일, 장치 속성의 획득
        프로세스, 파일, 장치 속성의 설정

    5. 통신
        통신 연결의 생성, 제거
        메시지의 송신, 수신
        상태 정보 전달
        원격 장치의 부착 및 분리

```

### 사용자 관점에서의 System Call
> Mac OS X 운영체제에서 사용자가 마우스와 윈도우 인터페이스로 조작하는 GUI, UNIX 셸을 수행시키는 것 이 둘은 모두 동일한 System Call을 사용하지만 다르게 보이고 다른 방법으로 동작.